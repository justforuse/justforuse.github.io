<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
	<style>
	.text-container {
		width: 600px;
		height: 400px;
		background-color: #007bb6;
		font-size: 36px;
		color: #fff;
	}
	
	.cursor {
		opacity: 1;
		/* margin-left: -25px; */
		-webkit-animation: blink 0.6s infinite;
		animation: blink 0.8s infinite;
	}
	
	@keyframes blink {
		0% {
			opacity: 1;
		}
		50% {
			opacity: 0;
		}
		100% {
			opacity: 1;
		}
	}
	
	.text-static {
		font-weight: bold;
	}
	</style>
	<script>
	$(function() {
		myPrint(["hello", "allen", "and", "world"], 100)

		/*
			arr:字符串数组
			speed:打字速度,毫秒为单位
		*/
		function myPrint(arr, speed) {
			var index = 0;
			var str = arr[index];
			var i = 0;
			var add = true;
			var mySetInterval = setInterval(function() {
				// 延时4个字符的时间
				if (i == str.length + 4) {
					add = false;
					// 如果是最后一个字符串则终止循环函数
					if (index + 1 >= arr.length) {
						clearInterval(mySetInterval);
					}
				} else if (i == -2) {
					// 删除后延时2个字符的时间
					add = true;
					str = arr[++index];
				}
				setTimeout(function() {
					if (add) {
						i++;
						$(".text").html(str.substring(0, i));
					} else {
						$(".text").html(str.substring(0, i - 1));
						i--;
					}
				})

			}, speed)
		}

	})
	</script>
</head>

<body>
	<div class="text-container">
		<span class="text-static">I just want to say</span>
		<span class="text"></span>
		<span class="cursor">|</span>
	</div>
</body>

</html>
